var Calculator=function(){function t(t){f.push(t),console.log("=>",t),r=f.reduce(function(t,e){return t+e},""),x?(g.textContent=r,d.textContent=r):(b||(g.textContent="",b=!0),g.textContent=g.textContent+t,d.textContent=r),"+"!=t&&"*"!=t&&"/"!=t&&"-"!=t||(g.textContent=t,b=!1,x=!0,console.log("isOperator",x))}function e(t){for(var e=[],n=[],o=0;o<t.length;o++)"+"!=t[o]&&"*"!=t[o]&&"/"!=t[o]&&"-"!=t[o]?e.push(t[o]):(n.push(Number(e.join(""))),n.push(t[o]),e=[]);return n.push(Number(e.join(""))),n}function n(t){console.log(t);for(var e=[],n=[],o=0;o<t.length;o++)"number"==typeof t[o]?e.push(t[o]):n.push(t[o]);var o=0;do"+"==n[o]&&(e[0]=e[0]+e[1]),"-"==n[o]&&(e[0]=e[0]-e[1]),"*"==n[o]&&(e[0]=e[0]*e[1]),"/"==n[o]&&(e[0]=e[0]/e[1]),e.splice(1,1),o++;while(o<n.length);return a=e[0],a=Math.round(100*a)/100,console.log("result =>",a),m=!0,console.log("isExecuted =",m),a}var o,l,u,c,r,a,i={},s=document.getElementById("calculator"),g=document.getElementById("display"),d=document.getElementById("sub-display"),b=!1,h=!1,f=[],x=!1,m=!1;return s.onfocus=function(){this.blur()},i.init=function(){s.addEventListener("click",function(r){(r.target.getAttribute("data-btn-value")||r.target.getAttribute("data-btn-action"))&&(o=r.target,l=o.attributes[1].name,u=o.getAttribute(l),c=o.classList[0],"btn"==c&&("data-btn-value"==l&&("."!==u?t(u):h?console.log("the decimal btn is frozen"):(console.log("the decimal btn is not frozen"),t(u),h=!0)),"data-btn-action"==l&&("+"!=u&&"*"!=u&&"/"!=u&&"-"!=u||t(u),"="==u&&(h=!1,a=n(e(f)),g.textContent=a,d.textContent+=u+a),"clear"==u&&(console.log("** clear **"),d.textContent="0",g.textContent="0",f=[],b=!1,console.log("clear init =",b),m=!1,console.log("isExecuted =",m)),h=!1)))})},i}();