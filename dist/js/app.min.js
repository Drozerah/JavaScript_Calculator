var Calculator=function(){function t(t){if(v.push(t),i=t,console.log("current =>",i),a=v.reduce(function(t,e){return t+e},""),a=a.replace("/","÷").replace("*","×"),0==f&&(d.textContent="",h.textContent="",f=!0,console.log("Zero removed isInit = ",f)),f){console.log("B"),console.log("B result",u),console.log("B isInit",f),console.log("B isOperator",y),console.log("B array",v),d.textContent+=t,h.textContent=a;var e=d.textContent;e.length>=12&&(console.log("!!!!!!!!!!!!",e.length),h.textContent="Digit Limit Met",n(),d.textContent="0"),"+"!=t&&"*"!=t&&"/"!=t&&"-"!=t||(d.textContent=t.replace("/","÷").replace("*","×"),B&&(v=[],v.push(u.toString()),v.push(t),console.log("array is executed ===>",v),h.textContent=u+t.replace("/","÷").replace("*","×")),f=!1,y=!1,console.log("C isOperator",y))}}function e(t){for(var e=[],o=[],n=0;n<t.length;n++)"+"!=t[n]&&"*"!=t[n]&&"/"!=t[n]&&"-"!=t[n]?e.push(t[n]):(o.push(Number(e.join(""))),o.push(t[n]),e=[]);return o.push(Number(e.join(""))),o}function o(t){console.log("execute ",t);for(var e=[],o=[],n=0;n<t.length;n++)"number"==typeof t[n]?e.push(t[n]):o.push(t[n]);var n=0;do"+"==o[n]&&(e[0]=e[0]+e[1]),"-"==o[n]&&(e[0]=e[0]-e[1]),"*"==o[n]&&(e[0]=e[0]*e[1]),"/"==o[n]&&(e[0]=e[0]/e[1]),e.splice(1,1),n++;while(n<o.length);return u=e[0],u=Math.round(100*u)/100,console.log("result =>",u),B=!0,console.log("isExecuted =",B),t=[],t.push(u),console.log("array result => ",t),d.textContent=u,h.textContent+=r+u,h.textContent=h.textContent.replace(".=","="),h.textContent=h.textContent.replace("0.0=","0="),u}function n(){console.log("** Clear **"),v=[],console.log("array = ",v),u=!1,console.log("result = ",u),f=!1,console.log("isInit = ",f),m=!0,console.log("isDecimalActive = ",m),y=!1,console.log("isOperator = ",y),B=!1,console.log("isExecuted = ",B),b=!0,B=!1,console.log("*************")}var l,c,r,s,a,i,u,g,p,x={},C=document.getElementById("calculator"),d=document.getElementById("display"),h=document.getElementById("sub-display"),f=!1,m=!0,b=!0,v=[],y=!1,B=!1;return C.onfocus=function(){this.blur()},x.init=function(){C.addEventListener("click",function(a){if((a.target.getAttribute("data-btn-value")||a.target.getAttribute("data-btn-action"))&&(l=a.target,c=l.attributes[1].name,r=l.getAttribute(c),s=l.classList[0],"btn"==s)){if("data-btn-value"==c){"."!==r&&t(r),"."==r&&(m&&(t(r),m=!1,console.log("isDecimalActive =",m)),"."==v[0]&&(v=[],d.textContent="",t("0"),t(".")));var x=v[v.length-2];"."!=r||"+"!=x&&"*"!=x&&"/"!=x&&"-"!=x||(v[v.length-1]=0,v.push("."),d.textContent="0.",g=x+r,p=x+d.textContent,h.textContent=h.textContent.replace(g,p)),y=!0}"data-btn-action"==c&&(y&&("+"!=r&&"*"!=r&&"/"!=r&&"-"!=r||(b=!1,"."==i?m=!1:(t(r),m=!0)),"="==r&&(m=!0,console.log("isDecimalActive = ",m),b=!1,u=o(e(v)),B=!0)),"clear"==r&&(h.textContent="0",d.textContent="0",n()))}})},x}();