var Calculator=function(){function t(t){b.push(t),g=t,console.log("current =>",g),u=b.reduce(function(t,e){return t+e.replace("/","÷").replace("*","×")},""),f||(C.textContent="",h.textContent="",f=!0),f&&(C.textContent+=t,h.textContent=u,C.textContent.length>10&&(h.textContent="Digit Limit Met",o(),C.textContent="0"),"+"!=t&&"*"!=t&&"/"!=t&&"-"!=t||(C.textContent=t,A&&(b=[],b.push(p.toString()),b.push(t),console.log("array is executed ===>",b)),f=!1,y=!1))}function e(t){for(var e=[],n=[],o=0;o<t.length;o++)"+"!=t[o]&&"*"!=t[o]&&"/"!=t[o]&&"-"!=t[o]?e.push(t[o]):(n.push(Number(e.join(""))),n.push(t[o]),e=[]);return n.push(Number(e.join(""))),n}function n(t){for(var e=[],n=[],o=0;o<t.length;o++)"number"==typeof t[o]?e.push(t[o]):n.push(t[o]);var o=0;do"+"==n[o]&&(e[0]=e[0]+e[1]),"-"==n[o]&&(e[0]=e[0]-e[1]),"*"==n[o]&&(e[0]=e[0]*e[1]),"/"==n[o]&&(e[0]=e[0]/e[1]),e.splice(1,1),o++;while(o<n.length);return console.log("------ EXECUTE ------"),A=!0,console.log("isExecuted =",A),p=e[0],p=Math.round(100*p)/100,console.log("result =>",p),"Infinity"==p&&(p=0),isNaN(p)&&(p=0,h.textContent="Error"),t=[],t.push(p),console.log("updatted array = ",t),C.textContent=p,h.textContent+=a,h.textContent=h.textContent.replace(".=","="),h.textContent=h.textContent.replace("0.0=","0="),h.textContent=h.textContent.replace("Error=0","Error"),p}function o(){console.log("------- CLEAR -------"),b=[],console.log("array = ",b),p=!1,console.log("result = ",p),f=!1,console.log("isInit = ",f),m=!0,console.log("isDecimalActive = ",m),y=!1,console.log("isOperator = ",y),v=!0,A=!1,console.log("isExecuted = ",A),E=!0,console.log("isExecuteActive = ",E),console.log("---------------------")}function l(t){var e=t.getBoundingClientRect(),n=document.body;return{top:e.top+n.scrollTop,left:e.left+n.scrollLeft}}function r(t,e,n){var o=l(t),r=e+5-o.left,c=n+5-o.top,i=t.children[0];node=document.createElement("div"),node.className+="ripple",t.children.length>0&&t.removeChild(i),t.appendChild(node),t.children[0].style.left=r+"px",t.children[0].style.top=c+"px"}var c,i,a,s,u,g,p,x={},d=document.getElementById("calculator"),C=document.getElementById("display"),h=document.getElementById("sub-display"),f=!1,m=!0,v=!0,E=!0,b=[],y=!1,A=!1;return d.onfocus=function(){this.blur()},x.init=function(){d.addEventListener("click",function(l){if((l.target.getAttribute("data-btn-value")||l.target.getAttribute("data-btn-action"))&&(c=l.target,i=c.attributes[1].name,a=c.getAttribute(i),s=c.classList[0],console.log(l.pageX),r(c,l.pageX,l.pageY),"btn"==s)){if("data-btn-value"==i)if(0!=b.length||"0"!=a&&"."!=a){E=!0,A&&o(),"."!==a&&t(a),"."==a&&(m&&(t(a),m=!1,console.log("isDecimalActive =",m)),"."==b[0]&&(b=[],C.textContent="",t("0"),t(".")));var u=b[b.length-2];"."!=a||"+"!=u&&"*"!=u&&"/"!=u&&"-"!=u||(b[b.length-1]="0",b.push("."),C.textContent="0.",h.textContent=h.textContent.replace(u+a,u+C.textContent)),y=!0}else y=!1,m=!1,"."==a&&(t("0"),t("."),y=!0);if("data-btn-action"==i){if("Digit Limit Met"==h.textContent&&(y=!1),y){if(("+"==a||"*"==a||"/"==a||"-"==a)&&(v=!1,2==b.length&&"0"==b[0]&&"."==b[1]?(b[b.length-1]=a,h.textContent="0",C.textContent=a,f=!1,y=!1,E=!1,console.log("current =>",a)):(t(a),m=!0),A)){var g=p;o(),t(g.toString()),t(a)}"="==a&&1==E&&(m=!0,v=!1,p=n(e(b)),A=!0,E=!1,console.log("isExecuteActive = ",E),console.log("---------------------"))}"clear"==a&&(h.textContent="0",C.textContent="0",o())}C.textContent=C.textContent.replace("/","÷").replace("*","×"),h.textContent=h.textContent.replace(".+","+").replace(".-","-").replace(".÷","÷").replace(".×","×")}})},x}();