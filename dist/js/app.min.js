var Calculator=function(){function t(t){m.push(t),console.log("=>",t),l=m.reduce(function(t,n){return t+n},""),"undefined"==typeof C?(d.textContent=l,g.textContent=l):(b||(d.textContent="",b=!0),d.textContent=d.textContent+t,g.textContent=l),"+"!=t&&"*"!=t&&"/"!=t&&"-"!=t||(d.textContent=t,b=!1,C=l.split(t))}function n(t){return console.log("array",m),new Function("return "+t)()}function e(t){for(var n=[],e=[],o=0;o<t.length;o++)"+"!=t[o]&&"*"!=t[o]&&"/"!=t[o]&&"-"!=t[o]?n.push(t[o]):(e.push(Number(n.join(""))),e.push(t[o]),n=[]);return e.push(Number(n.join(""))),e}var o,u,r,a,l,c,i={},s=document.getElementById("calculator"),d=document.getElementById("display"),g=document.getElementById("sub-display"),b=!1,f=!1,m=[],C=[];return s.onfocus=function(){this.blur()},i.init=function(){s.addEventListener("click",function(i){(i.target.getAttribute("data-btn-value")||i.target.getAttribute("data-btn-action"))&&(o=i.target,u=o.attributes[1].name,r=o.getAttribute(u),a=o.classList[0],"btn"==a&&("data-btn-value"==u&&("."!==r?t(r):f?console.log("the decimal btn is frozen"):(console.log("the decimal btn is not frozen"),t(r),f=!0)),"data-btn-action"==u&&("+"!=r&&"*"!=r&&"/"!=r&&"-"!=r||(console.log("** "+r+" **"),t(r)),"="==r&&(f=!1,c=n(l),c=Math.round(100*c)/100,d.textContent=c,g.textContent+=r+c,console.log("arrayNumReducer",e(m))),"clear"==r&&(console.log("** clear **"),g.textContent="0",d.textContent="0",m=[],b=!1,console.log("clear init =",b)),f=!1)))})},i}();