var Calculator=function(){function t(t){p.push(t),a=t,console.log("current =>",a),u=p.reduce(function(t,e){return t+e},""),h||(d.textContent="",h=!0),d.textContent+=a,b.textContent=u,"+"!=t&&"*"!=t&&"/"!=t&&"-"!=t||(d.textContent=t,h=!1,v=!1,console.log("isOperator",v))}function e(t){for(var e=[],n=[],o=0;o<t.length;o++)"+"!=t[o]&&"*"!=t[o]&&"/"!=t[o]&&"-"!=t[o]?e.push(t[o]):(n.push(Number(e.join(""))),n.push(t[o]),e=[]);return n.push(Number(e.join(""))),n}function n(t){console.log(t);for(var e=[],n=[],o=0;o<t.length;o++)"number"==typeof t[o]?e.push(t[o]):n.push(t[o]);var o=0;do"+"==n[o]&&(e[0]=e[0]+e[1]),"-"==n[o]&&(e[0]=e[0]-e[1]),"*"==n[o]&&(e[0]=e[0]*e[1]),"/"==n[o]&&(e[0]=e[0]/e[1]),e.splice(1,1),o++;while(o<n.length);return i=e[0],i=Math.round(100*i)/100,console.log("result =>",i),x=!0,console.log("isExecuted =",x),t=[i],console.log("array => ",t),d.textContent=i,b.textContent+=c+i,i}var o,l,c,r,u,a,i,s={},g=document.getElementById("calculator"),d=document.getElementById("display"),b=document.getElementById("sub-display"),h=!1,m=!0,f=!0,p=[],v=!1,x=!1;return g.onfocus=function(){this.blur()},s.init=function(){g.addEventListener("click",function(u){(u.target.getAttribute("data-btn-value")||u.target.getAttribute("data-btn-action"))&&(o=u.target,l=o.attributes[1].name,c=o.getAttribute(l),r=o.classList[0],"btn"==r&&("data-btn-value"==l&&(v=!0,"."!==c&&t(c),"."==c&&(m&&(t(c),m=!1,console.log("isDecimalActive =",m)),"."==p[0]&&(p=[],d.textContent="",t("0"),t(".")))),"data-btn-action"==l&&(v&&("+"!=c&&"*"!=c&&"/"!=c&&"-"!=c||(f=!1,"."==a?m=!1:(t(c),m=!0)),"="==c&&(m=!0,console.log("isDecimalActive = ",m),f=!1,i=n(e(p)))),"clear"==c&&(console.log("** Clear **"),b.textContent="0",d.textContent="0",p=[],console.log("array => ",p),h=!1,console.log("isInit = ",h),m=!0,console.log("isDecimalActive = ",m),x=!1,console.log("isExecuted = ",x),f=!0,console.log("*************")))))})},s}();