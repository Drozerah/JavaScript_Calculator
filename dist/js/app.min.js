var Calculator=function(){function t(t){b.push(t),s=t,console.log("current =>",s),a=b.reduce(function(t,e){return t+e.replace("/","÷").replace("*","×")},""),h||(C.textContent="",p.textContent="",h=!0),h&&(C.textContent+=t,p.textContent=a,C.textContent.length>10&&(p.textContent="Digit Limit Met",o(),C.textContent="0",console.log("<<<<<<<<<<<<<<<<<<<",m)),"+"!=t&&"*"!=t&&"/"!=t&&"-"!=t||(C.textContent=t,v&&(b=[],b.push(u.toString()),b.push(t),console.log("array is executed ===>",b)),h=!1,m=!1))}function e(t){for(var e=[],n=[],o=0;o<t.length;o++)"+"!=t[o]&&"*"!=t[o]&&"/"!=t[o]&&"-"!=t[o]?e.push(t[o]):(n.push(Number(e.join(""))),n.push(t[o]),e=[]);return n.push(Number(e.join(""))),n}function n(t){for(var e=[],n=[],o=0;o<t.length;o++)"number"==typeof t[o]?e.push(t[o]):n.push(t[o]);var o=0;do"+"==n[o]&&(e[0]=e[0]+e[1]),"-"==n[o]&&(e[0]=e[0]-e[1]),"*"==n[o]&&(e[0]=e[0]*e[1]),"/"==n[o]&&(e[0]=e[0]/e[1]),e.splice(1,1),o++;while(o<n.length);return console.log("------ EXECUTE ------"),v=!0,console.log("isExecuted =",v),u=e[0],u=Math.round(100*u)/100,console.log("result =>",u),"Infinity"==u&&(u=0),isNaN(u)&&(u=0,p.textContent="Error"),t=[],t.push(u),console.log("updatted array = ",t),C.textContent=u,p.textContent+=c+u,p.textContent=p.textContent.replace(".=","="),p.textContent=p.textContent.replace("0.0=","0="),p.textContent=p.textContent.replace("Error=0","Error"),u}function o(){console.log("------- CLEAR -------"),b=[],console.log("array = ",b),u=!1,console.log("result = ",u),h=!1,console.log("isInit = ",h),d=!0,console.log("isDecimalActive = ",d),m=!1,console.log("isOperator = ",m),f=!0,v=!1,console.log("isExecuted = ",v),E=!0,console.log("isExecuteActive = ",E),console.log("---------------------")}var l,r,c,i,a,s,u,g={},x=document.getElementById("calculator"),C=document.getElementById("display"),p=document.getElementById("sub-display"),h=!1,d=!0,f=!0,E=!0,b=[],m=!1,v=!1;return x.onfocus=function(){this.blur()},g.init=function(){x.addEventListener("click",function(a){if((a.target.getAttribute("data-btn-value")||a.target.getAttribute("data-btn-action"))&&(l=a.target,r=l.attributes[1].name,c=l.getAttribute(r),i=l.classList[0],"btn"==i)){if("data-btn-value"==r)if(0!=b.length||"0"!=c&&"."!=c){E=!0,v&&o(),"."!==c&&t(c),"."==c&&(d&&(t(c),d=!1,console.log("isDecimalActive =",d)),"."==b[0]&&(b=[],C.textContent="",t("0"),t(".")));var s=b[b.length-2];"."!=c||"+"!=s&&"*"!=s&&"/"!=s&&"-"!=s||(b[b.length-1]="0",b.push("."),C.textContent="0.",p.textContent=p.textContent.replace(s+c,s+C.textContent)),m=!0}else m=!1,d=!1,"."==c&&(t("0"),t("."),m=!0);if("data-btn-action"==r){if("Digit Limit Met"==p.textContent&&(m=!1),m){if(("+"==c||"*"==c||"/"==c||"-"==c)&&(f=!1,2==b.length&&"0"==b[0]&&"."==b[1]?(b[b.length-1]=c,p.textContent="0",C.textContent=c,h=!1,m=!1,E=!1,console.log("current =>",c)):(t(c),d=!0),v)){var g=u;o(),t(g.toString()),t(c)}"="==c&&1==E&&(d=!0,f=!1,u=n(e(b)),v=!0,E=!1,console.log("isExecuteActive = ",E),console.log("---------------------"))}"clear"==c&&(p.textContent="0",C.textContent="0",o())}C.textContent=C.textContent.replace("/","÷").replace("*","×"),p.textContent=p.textContent.replace(".+","+").replace(".-","-").replace(".÷","÷").replace(".×","×")}})},g}();