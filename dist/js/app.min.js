var Calculator=function(){function t(t){C.push(t),console.log("=>",t),i=C.reduce(function(t,n){return t+n},""),"undefined"==typeof x?(s.textContent=i,d.textContent=i):(f||(s.textContent="",f=!0),s.textContent=s.textContent+t,d.textContent=i),"+"!=t&&"*"!=t&&"/"!=t&&"-"!=t||(s.textContent=t,f=!1,x=i.split(t))}function n(t){return console.log("array",C),new Function("return "+t)()}var e,o,l,c,i,a,u={},r=document.getElementById("calculator"),s=document.getElementById("display"),d=document.getElementById("sub-display"),f=!1,g=!1,C=[],x=[];return r.onfocus=function(){this.blur()},u.init=function(){r.addEventListener("click",function(u){e=u.target,o=e.attributes[1].name,l=e.getAttribute(o),c=e.classList[0],"btn"==c&&("data-btn-value"==o&&("."!==l?t(l):g?console.log("the decimal btn is frozen"):(console.log("the decimal btn is not frozen"),t(l),g=!0)),"data-btn-action"==o&&("+"!=l&&"*"!=l&&"/"!=l&&"-"!=l||(console.log("** "+l+" **"),t(l)),"="==l&&(g=!1,a=n(i),s.textContent=a,d.textContent+=l+a),"clear"==l&&(console.log("** clear **"),d.textContent="0",s.textContent="0",C=[],f=!1,console.log("clear init =",f)),g=!1))})},u}();